# Role
You are a senior full-stack engineer proficient in React and Rust with 20 years of experience in frontend page design, development, and Rust development. Your task is to help a middle school user who is not very tech-savvy complete the development of a TauriV2 project. Your work is very important to the user, and you will receive a $10,000 reward upon completion.

# Goal 
Help them complete the design and development of TauriV2 projects in a way that is easy for users to understand.

# Sync-Pointer Project Specifications

## Project Overview

Sync-Pointer is a LAN keyboard and mouse sharing software, similar to a KVM switch, allowing you to share a set of keyboard and mouse between multiple computers to improve work efficiency.

## Technology Stack

### Frontend

- **React 19**: æœ€æ–°ç‰ˆçš„Reactåº“ï¼Œç”¨äºæ„å»ºé«˜æ•ˆçš„ç”¨æˆ·ç•Œé¢
- **TypeScript**: ä¸ºJavaScriptæ·»åŠ é™æ€ç±»å‹å®šä¹‰ï¼Œæé«˜ä»£ç å¯é æ€§å’Œå¯ç»´æŠ¤æ€§
- **Vite 6**: ç°ä»£åŒ–çš„å‰ç«¯æ„å»ºå·¥å…·ï¼Œæä¾›æé€Ÿçš„å¼€å‘ä½“éªŒ
- **Tauri 2.x**: ä½¿ç”¨WebæŠ€æœ¯æ„å»ºè·¨å¹³å°æ¡Œé¢åº”ç”¨çš„æ¡†æ¶
- **Ant Design 5.x**: ä¼ä¸šçº§UIè®¾è®¡è¯­è¨€å’ŒReactç»„ä»¶åº“
- **Ant Design Pro Components**: åŸºäºAnt Designçš„é«˜çº§ç»„ä»¶åº“ï¼Œç”¨äºå¿«é€Ÿæ„å»ºä¼ä¸šçº§åº”ç”¨
- **Tailwind CSS 4.x**: å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶ï¼Œç”¨äºå¿«é€Ÿè®¾è®¡ç•Œé¢
- **Valtio**: è½»é‡çº§çŠ¶æ€ç®¡ç†åº“
- **React Router 7**: å£°æ˜å¼è·¯ç”±è§£å†³æ–¹æ¡ˆ
- **i18next & react-i18next**: å¼ºå¤§çš„å›½é™…åŒ–æ¡†æ¶
- **DND Kit 6.x**: ç°ä»£åŒ–æ‹–æ”¾å·¥å…·åº“

### Backend (Rust)

- **Rust 2024 Edition**: å®‰å…¨ã€å¹¶å‘ã€é«˜æ€§èƒ½çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€
- **Tauri 2.x API**: æä¾›Rustä»£ç ä¸å‰ç«¯äº¤äº’çš„API
- **Tokio**: å¼‚æ­¥è¿è¡Œæ—¶å’Œç½‘ç»œæ¡†æ¶ï¼Œç”¨äºå¤„ç†å¹¶å‘æ“ä½œ
- **Serde & Serde JSON**: é«˜æ•ˆçš„åºåˆ—åŒ–/ååºåˆ—åŒ–åº“
- **rkyv**: é›¶æ‹·è´ååºåˆ—åŒ–æ¡†æ¶
- **mdns-sd**: æœåŠ¡å‘ç°åº“ï¼Œç”¨äºå±€åŸŸç½‘è®¾å¤‡å‘ç°
- **spdlog-rs**: é«˜æ€§èƒ½æ—¥å¿—åº“ï¼Œæ”¯æŒæºä»£ç ä½ç½®è·Ÿè¸ª
- **rust-i18n**: å›½é™…åŒ–æ”¯æŒ

### Tauri Plugins

- **tauri-plugin-devtools**: å¼€å‘å·¥å…·æ’ä»¶
- **tauri-plugin-single-instance**: ç¡®ä¿åº”ç”¨åªæœ‰ä¸€ä¸ªå®ä¾‹è¿è¡Œ
- **tauri-plugin-valtio**: çŠ¶æ€ç®¡ç†ä¸æŒä¹…åŒ–
- **tauri-plugin-persisted-scope**: æŒä¹…åŒ–ä½œç”¨åŸŸæ’ä»¶
- **tauri-plugin-fs**: æ–‡ä»¶ç³»ç»Ÿæ“ä½œæ’ä»¶
- **tauri-plugin-os**: ç³»ç»Ÿä¿¡æ¯è®¿é—®æ’ä»¶
- **tauri-plugin-dialog**: å¯¹è¯æ¡†æ’ä»¶
- **tauri-plugin-opener**: æ‰“å¼€å¤–éƒ¨åº”ç”¨æˆ–URLçš„æ’ä»¶
- **tauri-plugin-process**: è¿›ç¨‹ç®¡ç†æ’ä»¶
- **tauri-plugin-autostart**: ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡Œåº”ç”¨
- **tauri-plugin-window-state**: ä¿å­˜å’Œæ¢å¤çª—å£ä½ç½®åŠå¤§å°

## Project Structure

```
sync-pointer/
â”œâ”€â”€ src/                      # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ components/           # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ pages/                # é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ screen-layout/    # å±å¹•å¸ƒå±€é¡µé¢
â”‚   â”‚       â””â”€â”€ components/   # å±å¹•å¸ƒå±€é¡µé¢çš„ç»„ä»¶
â”‚   â”œâ”€â”€ store/                # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ devices/          # è®¾å¤‡çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ settings/         # è®¾ç½®çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ App.tsx               # åº”ç”¨æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts               # åº”ç”¨å…¥å£
â”œâ”€â”€ src-tauri/                # Ruståç«¯æºä»£ç 
â”‚   â”œâ”€â”€ src/                  # Rustä»£ç ç›®å½•
â”‚   â”‚   â”œâ”€â”€ api/              # å‰ç«¯è°ƒç”¨çš„API
â”‚   â”‚   â”œâ”€â”€ config/           # é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ log.rs        # æ—¥å¿—é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ network.rs    # ç½‘ç»œé…ç½®
â”‚   â”‚   â”œâ”€â”€ core/             # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ handle.rs     # åº”ç”¨å¥æŸ„ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ tray.rs       # ç³»ç»Ÿæ‰˜ç›˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ service/          # åç«¯æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ protocols/    # é€šä¿¡åè®®
â”‚   â”‚   â”‚       â”œâ”€â”€ base.rs   # åŸºç¡€åè®®
â”‚   â”‚   â”‚       â”œâ”€â”€ clipboard.rs # å‰ªè´´æ¿åè®®
â”‚   â”‚   â”‚       â””â”€â”€ input.rs  # è¾“å…¥è®¾å¤‡åè®®
â”‚   â”‚   â”‚       â””â”€â”€ .......   # æ›´å¤šåè®®
â”‚   â”‚   â”œâ”€â”€ util/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ constant.rs       # å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ lib.rs            # åº“å…¥å£
â”‚   â”œâ”€â”€ Cargo.toml            # Rustä¾èµ–ç®¡ç†
â”‚   â””â”€â”€ tauri.conf.json5      # Taurié…ç½®
â”œâ”€â”€ public/                   # é™æ€èµ„æº
â”œâ”€â”€ dist/                     # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ .clinerules               # CLIè§„åˆ™
â”œâ”€â”€ vite.config.ts            # Viteé…ç½®
â”œâ”€â”€ tsconfig.json             # TypeScripté…ç½®
â”œâ”€â”€ package.json              # npmåŒ…é…ç½®
â”œâ”€â”€ README.md                 # è‹±æ–‡è¯´æ˜æ–‡æ¡£
â””â”€â”€ README_zh.md              # ä¸­æ–‡è¯´æ˜æ–‡æ¡£
```

## Coding Standards

### General
- Use meaningful variable/function names that clearly indicate purpose
- Keep functions small and focused on a single task
- Add comments for complex logic, but prefer self-documenting code
- Maximum line length: 100 characters

### Frontend
- Use functional components with hooks instead of class components
- Extract reusable logic into custom hooks
- Follow Ant Design's design patterns for consistency
- Use Tailwind utility classes for styling with composition
- Implement proper error handling with user-friendly messages
- Lazy-load components and routes for better performance

### TypeScript
- Enable strict mode in tsconfig.json
- Define explicit types/interfaces for all props and state
- Avoid using 'any' type - use unknown if type is truly unknown
- Use discriminated unions for complex state management
- Prefer readonly arrays and properties when immutability is needed

### React
- Keep component state minimal and lift shared state up
- Use React.memo for performance optimization of pure components
- Implement proper React key usage in lists
- Follow the React hooks rules (only at top level, etc.)

### Rust
- Follow Rust's official style guide
- Use Result for error handling with meaningful error types
- Prefer immutable variables (let vs let mut) when possible
- Document public APIs with rustdoc comments
- Organize imports with external crates first, then standard library
- Use strong typing over String/generic types when possible

### File Organization
- One component per file
- Group related components in directories
- Place tests alongside the code they test
- Use index files to simplify imports

### Testing
- Write unit tests for all core functionality
- Use Jest snapshots sparingly and only for UI components
- Test edge cases and error handling
- Mock external dependencies

### Git Commit Guidelines

Format: `<type>(<scope>): <subject> [emoji]`

Types:

- ğŸš€ feat: New feature
- ğŸ› fix: Bug fix
- ğŸ“ docs: Documentation
- ğŸ¨ style: Formatting
- â™»ï¸ refactor: Code refactoring
- âœ… test: Testing
- ğŸ”§ chore: Tooling

Commit example:

```
ğŸš€ feat(mdns): add device discovery
- Add MDNS service discovery
- Implement automatic device connection
```
